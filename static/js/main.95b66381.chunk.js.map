{"version":3,"sources":["components/Basket.js","components/Header.js","components/Product.js","components/Main.js","data.js","App.js","index.js"],"names":["Basket","props","cartItems","onAdd","onRemove","itemPrices","reduce","a","c","price","qty","tax","shipping","total","className","length","map","item","name","onClick","id","toFixed","Header","countCart","href","Product","product","sel","modalEl","useRef","src","image","alt","Modal","current","show","tabIndex","ref","type","Main","products","selectedId","x","i","includes","App","useState","setCartItems","console","log","idx","findIndex","newCart","push","filter","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.95b66381.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Basket(props) {\n  const { cartItems, onAdd, onRemove } = props;\n  let itemPrices = cartItems.reduce((a, c) => a + c.price * c.qty, 0);\n  let tax = itemPrices * 0.07;\n  let shipping = itemPrices === 0 || itemPrices > 3000 ? 0 : 50;\n  let total = itemPrices + tax + shipping;\n\n  return (\n    <aside className=\"col-4 bg-info rounded pt-3 pb-5 fs-5\">\n      <h2 className=\"fw-light fs-3 border p-2 rounded  mb-3\">\n        Cart Items\n      </h2>\n      <div> {cartItems.length === 0 && <div>Cart is Empty</div>} </div>\n      {cartItems.map((item) => (\n        <div key={item.id} className=\"row\">\n          <div className=\"col-5\">{item.name}</div>\n          <div className=\"col-3\">\n            <button\n              className=\"btn btn-sm btn-outline-secondary me-1\"\n              onClick={() => onAdd(item)}\n            >\n              +\n            </button>\n            <button\n              className=\"btn btn-sm btn-outline-secondary\"\n              onClick={() => onRemove(item)}\n            >\n              -\n            </button>\n          </div>\n          <div className=\"col text-end\">\n            {item.qty} x ${item.price}\n          </div>\n        </div>\n      ))}\n      {cartItems.length !== 0 && (\n        <>\n          <hr />\n          <div className=\"row\">\n            <div className=\"col\">Items Price</div>\n            <div className=\"col text-end\">${itemPrices.toFixed(2)}</div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">Tax</div>\n            <div className=\"col text-end\">${tax.toFixed(2)}</div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">Shipping</div>\n            <div className=\"col text-end\">${shipping.toFixed(2)}</div>\n          </div>\n          <div className=\"row fw-bold\">\n            <div className=\"col\">Total</div>\n            <div className=\"col text-end border rounded-3\">\n              ${total.toFixed(2)}\n            </div>\n          </div>\n        </>\n      )}\n    </aside>\n  );\n}\n\nexport default Basket;\n","import React from \"react\";\n\nfunction Header(props) {\n  const { countCart } = props;\n  return (\n    <header className=\"row position-sticky top-0 bg-primary rounded mb-1 align-items-end\">\n      <div className=\"col-4\">\n        <a className=\"text-reset\" href=\"#/\">\n          <div className=\"display-5 p-2 rounded-3\">\n            <i className=\"bi bi-shop\"></i> CC Shop\n          </div>\n        </a>\n      </div>\n      <div className=\"col text-end me-2\">\n        <a className=\"text-reset\" href=\"#\">\n          <div>\n            <i className=\"display-2 bi bi-cart-fill position-relative\">\n              <span className=\" fs-5 position-absolute shadow badge rounded-pill bg-warning\">\n                {countCart}\n              </span>\n            </i>\n          </div>\n        </a>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React, { useState, useRef } from \"react\";\nimport { Modal } from \"bootstrap\";\n\nfunction Product(props) {\n  const { product, onAdd, sel, onRemove } = props;\n  // const [selected, setSelected] = useState(false);\n  // const [modal, setModal] = useState(null);\n\n  const modalEl = useRef();\n\n  const onDetailClick = () => {\n    const modalObj = new Modal(modalEl.current);\n    // setModal(modalObj);\n    modalObj.show();\n  };\n\n  const hdlAddClick = () => {\n    // setSelected(true);\n    onAdd(product);\n  };\n\n  const hdlRemoveClick = () => {\n    onRemove(product);\n  };\n  return (\n    <>\n      <div className=\"col py-3 border-bottom border-end rounded-3 ms-2\">\n        <img className=\"small\" src={product.image} alt={product.name} />\n        <div\n          className={`fs-4 mt-2 ${\n            sel && \"bg-danger rounded bg-gradient bg-opacity-50\"\n          }`}\n        >\n          {product.name}\n        </div>\n        {/* <div className={`fs-4 ${selected ? \"border\" : \"\"}`}>{product.name}</div> */}\n        {/* <div className=\"fs-4 \">{product.name}</div> */}\n        <div className=\"fs-5 text-light text-opacity-80\">{product.price}</div>\n        <div>\n          {sel && (\n            <button\n              className=\"btn btn-light text-warning btn-sm\"\n              onClick={hdlRemoveClick}\n            >\n              Remove\n            </button>\n          )}\n          {!sel && (\n            <button className=\"btn btn-light btn-sm\" onClick={hdlAddClick}>\n              Add to Cart\n            </button>\n          )}\n          <button className=\"btn btn-success btn-sm\" onClick={onDetailClick}>\n            Detail..\n          </button>\n        </div>\n      </div>\n      <div className=\"modal\" tabIndex=\"-1\" ref={modalEl}>\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Modal title</h5>\n              <button\n                type=\"button\"\n                className=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div className=\"modal-body bg-info\">\n              <h2>Product : {product.name}</h2>\n              <div>\n                <img className=\"small\" src={product.image} alt={product.name} />\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Product;\n","import React from \"react\";\nimport Product from \"./Product\";\n\nfunction Main(props) {\n  const { products, onAdd, cartItems, onRemove } = props;\n  const selectedId = cartItems.map((x) => x.id);\n\n  return (\n    <main className=\"col me-1 bg-warning rounded pt-3 pb-5\">\n      <h2 className=\"fs-3 fs-sm-5 border p-2 rounded \">Products</h2>\n      <div className=\"row text-white\">\n        {products.map((product, i) => (\n          <Product\n            key={product.id}\n            product={product}\n            onAdd={onAdd}\n            onRemove={onRemove}\n            sel={selectedId.includes(product.id)}\n          />\n        ))}\n      </div>\n    </main>\n  );\n}\n\nexport default Main;\n","const products = [\n  {\n    id: 1,\n    name: \"MacBook\",\n    price: 1400,\n    image: \"https://picsum.photos/id/180/800\"\n  },\n  {\n    id: 2,\n    name: \"Old Car\",\n    price: 2400,\n    image: \"https://picsum.photos/id/111/800\"\n  },\n  {\n    id: 3,\n    name: \"Shoes\",\n    price: 1000,\n    image: \"https://picsum.photos/id/21/800\"\n  },\n  {\n    id: 4,\n    name: \"Castle\",\n    price: 10000,\n    image: \"https://picsum.photos/id/1040/800\"\n  },\n  {\n    id: 5,\n    name: \"Lychee\",\n    price: 500,\n    image: \"https://picsum.photos/id/1080/800\"\n  },\n  {\n    id: 6,\n    name: \"Skate Board\",\n    price: 3500,\n    image: \"https://picsum.photos/id/157/800\"\n  },\n  {\n    id: 7,\n    name: \"Alarm Clock\",\n    price: 1500,\n    image: \"https://picsum.photos/id/175/800\"\n  },\n  {\n    id: 8,\n    name: \"Book\",\n    price: 800,\n    image: \"https://picsum.photos/id/24/800\"\n  }\n];\n\nexport default products;\n\n// const data = {\n//   products: [\n//     {\n//       id: 1,\n//       name: \"MacBook\",\n//       price: 1400,\n//       image: \"https://picsum.photos/id/180/2400/1600\"\n//     },\n//     {\n//       id: 2,\n//       name: \"Old Car\",\n//       price: 2400,\n//       image: \"https://picsum.photos/id/111/2400/1600\"\n//     },\n//     {\n//       id: 3,\n//       name: \"Shoes\",\n//       price: 1000,\n//       image: \"https://picsum.photos/id/21/2400/1600\"\n//     }\n//   ]\n// };\n\n// export default data;\n","import { useState } from \"react\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Basket from \"./components/Basket\";\nimport Header from \"./components/Header\";\nimport Main from \"./components/Main\";\nimport products from \"./data\";\n\nfunction App() {\n  const [cartItems, setCartItems] = useState([]);\n\n  const onAdd = (product) => {\n    console.log(product)\n    const idx = cartItems.findIndex((x) => x.id === product.id);\n    const newCart = [...cartItems];\n    if (idx > -1) {\n      newCart[idx] = { ...newCart[idx], qty: newCart[idx].qty + 1 };\n    } else {\n      newCart.push({ ...product, qty: 1 });\n    }\n    setCartItems(newCart);\n  };\n\n  const onRemove = (product) => {\n    // const exist = cartItems.find(x => x.id === product.id)\n    if (product.qty === 1) {\n      setCartItems(cartItems.filter((x) => x.id !== product.id));\n    } else {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === product.id ? { ...product, qty: product.qty - 1 } : x\n        )\n      );\n    }\n  };\n\n  const onRemove2 = (product) => {\n    const idx = cartItems.findIndex(x => x.id === product.id)\n    if(idx === -1) return\n    setCartItems(cartItems.filter(x=> x.id !== product.id))\n  }\n\n \n\n  return (\n    <div className=\"App container-fluid text-light mt-1\">\n      <Header countCart={cartItems.length} />\n      <div className=\"row\">\n        <Main cartItems={cartItems} products={products} onAdd={onAdd} onRemove={onRemove2} />\n        <Basket cartItems={cartItems} onAdd={onAdd} onRemove={onRemove} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}